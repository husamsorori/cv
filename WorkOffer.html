<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø´Ø¬Ø±Ø© Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© ÙˆØ§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© ÙˆØ§Ù„Ù‚Ø¶Ø§Ø¡</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <style>
    .custom-input-container {
      position: relative;
      margin-bottom: 1rem;
    }
    
    .custom-input-container input,
    .custom-input-container select {
      width: 100%;
      padding: 12px 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #fff;
      font-size: 15px;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    
    .custom-input-container input:focus,
    .custom-input-container select:focus {
      border-color: #007bff;
      box-shadow: 0 0 5px rgba(0,123,255,0.3);
      outline: none;
    }
    
    .custom-input-container label {
      position: absolute;
      top: 12px;
      right: 12px;
      color: #777;
      background: #fff;
      padding: 0 5px;
      transition: 0.2s ease all;
      pointer-events: none;
    }
    
    .custom-input-container input:focus + label,
    .custom-input-container input:not(:placeholder-shown) + label,
    .custom-input-container select:focus + label,
    .custom-input-container select:not([value=""]) + label {
      top: -10px;
      right: 10px;
      font-size: 13px;
      color: #007bff;
    }
    
    .dropdown-menu {
      width: 100%;
    }
    </style>
</head>

<body class="p-4">

<div dir="rtl">
    <form id="tanjezForm" method="post" enctype="multipart/form-data">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="page-title">Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯</h2>
            <span class="status-label">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø­ÙØ¸</span>
        </div>
    <input type="hidden" name="UserID" value="@Context.Session.GetInt32("UserID")" />

        <!-- Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© -->
        <div class="row g-3 mb-2">  
            <div class="col-md-6">
                <label asp-for="OfferName" class="form-label required">Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¶ <span class="text-danger">*</span></label>
                <input asp-for="OfferName" type="text" class="form-control"  required
                       data-val="true" data-val-required="Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¶ Ù…Ø·Ù„ÙˆØ¨" />
                <span class="text-danger field-validation-valid" data-valmsg-for="OfferName" data-valmsg-replace="true"></span>
            </div>

       
        <div class="col-md-6">
            <label class="form-label">ØªØ§Ø±ÙŠØ® Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¹Ø±Ø¶</label>

            <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†ÙˆØ¹ -->
            <select id="endDateOption" class="form-select">
                <option value="unspecified">ØºÙŠØ± Ù…Ø­Ø¯Ø¯</option>
                <option value="specified">Ù…Ø­Ø¯Ø¯</option>
            </select>

            <!-- Ø­Ù‚Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® -->
            <input id="endDateInput" name="EndDate" type="date" class="form-control mt-2" style="display:none;" />
        </div>

        <script>
            const endDateOption = document.getElementById("endDateOption");
            const endDateInput = document.getElementById("endDateInput");

            endDateOption.addEventListener("change", function () {
                if (this.value === "specified") {
                    endDateInput.style.display = "block";
                    endDateInput.value = "";
                } else {
                    endDateInput.style.display = "none";
                    endDateInput.value = ""; // Ø¥Ø±Ø³Ø§Ù„ ÙØ§Ø±Øº = null ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±
                }
            });
        </script>


        

        </div>
    <div class="row g-3 mb-2">
        <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ -->
        <div class="col-md-6">
    <div class="section-title">Ø§Ø¬ÙˆØ± Ø§Ù„Ø¹Ù…Ù„
    <div class="table-responsive mb-3">

        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ -->
        
            <label asp-for="WorkWagesTemplateId" class="form-label"></label>
            <select asp-for="WorkWagesTemplateId" id="transportTemplateSelect1" class="form-select">
                <option value="">-- Ø§Ø®ØªØ± Ù‚Ø§Ù„Ø¨ --</option>
              
                <option value="create-new-template1">+ Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙŠØ¯ Ù‚Ø§Ù„Ø¨ Ø£Ø¬ÙˆØ± Ø§Ù„Ø¹Ù…Ù„</option>
                <option value="advanced-search">ğŸ” Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</option>
            </select>
            <span asp-validation-for="WagesTemplate" class="text-danger"></span>
        

        <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ (ØªÙ… Ø§Ù„Ø§Ø³ØªØºÙ†Ø§Ø¡ Ø¹Ù†Ù‡) -->
        <div id="wagesTableContainer">
            <table class="table table-bordered align-middle text-center offer-table">
                <tbody>
                    <tr><td colspan="6" class="text-center">Ø§Ø®ØªØ± Ù‚Ø§Ù„Ø¨ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>
                </tbody>
            </table>
        </div>
              

     
    </div>
        </div>
        </div>
    <!-- Ø³ÙƒØ±Ø¨Øª Ù„ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‚Ø§Ù„Ø¨ -->
   




        <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªÙ†Ù‚Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø¨ÙŠØª -->
        <div class="col-md-6">
    <div class="section-title">Ø§Ù„ØªÙ†Ù‚Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø¨ÙŠØª</div>
    <div class="table-responsive mb-3">
        
            <label asp-for="TransportationScheduleTemplateId" class="form-label">Ù‚Ø§Ù„Ø¨ Ø§Ù„ØªÙ†Ù‚Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø¨ÙŠØª</label>
            <select asp-for="TransportationScheduleTemplateId" id="transportTemplateSelect" class="form-select">
                <option value=""></option>
              
                <option value="create-new-template">+ Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙŠØ¯ Ù‚Ø§Ù„Ø¨ Ø§Ù„ØªÙ†Ù‚Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø¨ÙŠØª</option>
            </select>
       

            <div id="transportTableContainer">
                <table class="table table-bordered align-middle text-center offer-table">
                    <tbody>
                        <tr><td colspan="6" class="text-center">Ø§Ø®ØªØ± Ù‚Ø§Ù„Ø¨ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>
                    </tbody>
                </table>
            </div>
          
        </div>
    
    
    <script>
            function filterTransportRows(value) {
            document.querySelectorAll("#transportRows tr").forEach(row => {
                const statuse1 = row.querySelector("input[name='StatuseType1']")?.value;
                const statuse2 = row.querySelector("input[name='StatuseType2']")?.value;

                if (value === "myAccount" && statuse1 == "2") {
                    row.style.display = "";
                } else if (value === "clientAccount" && statuse2 == "3") {
                    row.style.display = "";
                } else if (value === "") {
                    row.style.display = "";
                } else {
                    row.style.display = "none";
                }
            });
        }

    </script>
    <script>
         document.getElementById("transportTemplateSelect").addEventListener("change", function() {
            const templateId = this.value;
            const container = document.getElementById("transportTableContainer");

            if (!templateId || templateId === "create-new-template") {
                container.innerHTML = `<table class="table table-bordered text-center offer-table"><tbody><tr><td colspan="6" class="text-center">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr></tbody></table>`;
                return;
            }

            fetch(`@Url.Action("GetTemplateDetails", "WorkOffer")?id=${templateId}`)
                .then(res => res.text())
                .then(html => container.innerHTML = html)
                .catch(err => {
                    console.error(err);
                    container.innerHTML = `<table class="table table-bordered text-center offer-table"><tbody><tr><td colspan="6" class="text-center text-danger">${err.message}</td></tr></tbody></table>`;
                });
        });

    </script>


    </div>
    </div>


        <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø§Ø¶Ø§ÙÙŠØ© -->
        
         <div class="section-title">ØªÙƒÙ„ÙØ© Ø¥Ø¶Ø§ÙÙŠØ©</div>
        <div class="table-responsive mb-3">
        <div class="col-md-6">
            <label asp-for="AdditionalCostTypeId" class="form-label">Ù‚Ø§Ù„Ø¨ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø§Ø¶Ø§ÙÙŠØ© </label>
            <select asp-for="AdditionalCostTypeId" id="additionalCostSelect" class="form-select">
                <option value="">-- Ø§Ø®ØªØ± Ù‚Ø§Ù„Ø¨ --</option>
               
            </select>
       
            <div id="additionalCostContainer">
                <table class="table table-bordered align-middle text-center offer-table">
                    <tbody>
                        <tr><td colspan="6" class="text-center">Ø§Ø®ØªØ± Ù‚Ø§Ù„Ø¨ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>
                    </tbody>
                </table>
            </div>

        <button type="button" class="btn btn-outline-primary"
                onclick="showFormDialog('AdditionalCostModel')">
            <i class="bi bi-plus-lg me-1"></i> Ø¥Ø¶Ø§ÙØ© ØªÙƒÙ„ÙØ©
        </button>
        </div>
        </div>
        
       
    
      
        <!-- Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª ÙˆØ§Ù„ØºØ±Ø§Ù…Ø§Øª -->
        <div class="section-title">Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª </div>
    <div class="row mb-3">
          
            <div class="col-md">
                <label class="form-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯ÙØ¹ Ù…Ù‚Ø¯Ù…Ø§Ù‹ (%)</label>
                <input asp-for="AdvancePaymentPercentage" type="number" class="form-control"
                        />
            </div>
           
            <div class="col-md">
                <label class="form-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø²ÙˆÙ„ (%)</label>
                <input asp-for="OnSitePaymentPercentage" type="number" class="form-control"
                        />
            </div>
          
            <div class="col-md">
                <label class="form-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯ÙØ¹ Ø¨Ø¹Ø¯ ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø¹Ù…Ù„ (%)</label>
                <input asp-for="AfterDeliveryPaymentPercentage" type="number" class="form-control"
                        />
            </div>
        </div>
        <div class="section-title"> Ø§Ù„ØºØ±Ø§Ù…Ø§Øª</div>
    <div class="row mb-3">
            <div class="col-md">
                <label class="form-label">ØºØ±Ø§Ù…Ø§Øª Ø§Ù„ØªØ£Ø®Ø± Ø¹Ù† ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù† Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…ØªÙÙ‚ Ø¹Ù„ÙŠÙ‡Ø§ (%)</label>
            <input asp-for="LatePenaltyPercentage" type="number" class="form-control" placeholder="ÙŠØ®ØµÙ… Ù…Ù† Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªÙÙ‚ Ù†Ø³Ø¨Ø©" />
            </div>
         
            <div class="col-md">
                <label class="form-label">ÙÙŠ Ø­Ø§Ù„ Ø§Ù„Ø§Ø¹ØªØ°Ø§Ø± Ø¹Ù† Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¹Ø¯ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© (%)</label>
                <input asp-for="ResignationAfterAdvancePercentage" type="number" class="form-control" placeholder="ÙŠØ®ØµÙ… Ù…Ù† Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªÙÙ‚ Ù†Ø³Ø¨Ø©"
                      />
            </div>
         
            <div class="col-md">
                <label class="form-label">ÙÙŠ Ø­Ø§Ù„ Ø§Ø¹ØªØ°Ø§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¹Ù† Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¹Ø¯ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© (%)</label>
            <input asp-for="CamelResignationPenaltyPercentage" type="number" class="form-control" placeholder="ÙŠØ®ØµÙ… Ù…Ù† Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªÙÙ‚ Ù†Ø³Ø¨Ø©" />
            </div>
          
        </div>

        <!-- Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
        <div class="accordion mt-4" id="notesAccordion">
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingNotes">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseNotes" aria-expanded="false" aria-controls="collapseNotes">
                        Ù…Ù„Ø§Ø­Ø¸Ø§Øª
                    </button>
                </h2>
                <div id="collapseNotes" class="accordion-collapse collapse" aria-labelledby="headingNotes"
                     data-bs-parent="#notesAccordion">
                    <div class="accordion-body">
                        <textarea class="form-control" rows="3" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª"
                                  name="Notes"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ø²Ø± Ø§Ù„Ø­ÙØ¸ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø© -->
        <button type="submit" class="btn btn-dark save-btn mt-4" >Ø­ÙØ¸</button>
    </form>
    </div>


</body>
</html>