<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>السيرة الذاتية</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<style>
    body {
        background-color: #f5f6fa;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        direction: rtl;
        text-align: right;
    }
    .section-header {
        cursor: pointer;
        padding: 15px 20px;
        background-color: #0d6efd;
        color: #fff;
        border-radius: 8px;
        margin-bottom: 5px;
        transition: background-color 0.3s;
        font-size: 1.3rem;
        font-weight: bold;
    }
    .section-header:hover { background-color: #0b5ed7; }
    .section-content {
        display: none;
        padding: 15px 20px;
        background-color: #ffffff;
        border: 1px solid #ddd;
        border-radius: 8px;
        margin-bottom: 15px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .add-btn { margin-top: 10px; }
    .item-box {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 10px 15px;
        margin-top: 10px;
        border: 1px solid #ddd;
        position: relative;
    }
    .action-btns {
        position: absolute;
        left: 10px;
        top: 10px;
    }
    .action-btns button { margin-left: 5px; }

    /* تصميم عرض السيرة الذاتية */
    #cv-preview {
        display: none;
        background: #fff;
        border-radius: 10px;
        padding: 30px;
        box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }
    #cv-preview h2 {
        color: #0d6efd;
        border-bottom: 2px solid #0d6efd;
        padding-bottom: 8px;
        margin-top: 25px;
    }
    .info p { margin: 0; line-height: 1.8; }
    .item-box-preview {
        background: #f9f9f9;
        padding: 10px 15px;
        border-radius: 8px;
        margin-bottom: 10px;
        border: 1px solid #ddd;
    }
</style>
</head>
<body>
<div class="container my-5">
    <h2 class="text-center mb-4">إنشاء السيرة الذاتية</h2>

    <form id="tanjezForm" method="post" enctype="multipart/form-data">
        <div class="container">
            <div class="row mb-3">
                <!-- القائمة الأولى -->
                <input type="hidden" asp-for="tanjezOrder.UserID" value="@Context.Session.GetInt32("UserID")" />
    
                <div class="col-12">
                    <h4 class="fw-bold">موقع الأرض</h4>
                    <hr>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md">
    
                    <div class="input-label-en">منشا الطلب </div>
                    <input asp-for="tanjezOrder.CreateOrderName" type="text" class="form-control" placeholder="منشا الطلب">
                </div>
                <div class="col-md">
                    <h5>صفة منشا الطلب</h5>
    
    
                    <select asp-for="tanjezOrder.DescripPerson" id="descripSelect" class="form-select">
                        <option value="">   الصفة  </option>
    
                        <option value="عن نفسة">  عن نفسة</option>
    
                        <option value="وكيل"> وكيل</option>
                        <option value="وصي"> وصي </option>
                        <option value=""> اضافة</option>
                    </select>
    
                </div>
                <div class="col-md">
                    <h5>الغرض من المسح</h5>
                    <select asp-for="tanjezOrder.PurposeOrder"
                            asp-items="ViewBag.Purposes ?? new List<SelectListItem>()"
                            class="form-select add-option-enabled"
                            data-controller="PurposeSurvey">
                        <option value="">-- اختر الغرض --</option>
                        <option value="add">+ إضافة</option>
                    </select>
                </div>
                <div class="col-md">
                    <h5>نوع القطعة المراد مسحها</h5>
                    <select asp-for="tanjezOrder.TypePiece"
                            asp-items="ViewBag.PlaceTypes ?? new List<SelectListItem>()"
                            class="form-select add-option-enabled"
                            data-controller="PlaceTypes">
                        <option value="">-- اختر الغرض --</option>
                        <option value="add">+ إضافة</option>
                    </select>
    
                </div>
    
            </div>
            <!-- الصف الأول: موقع الأرض (4 أعمدة) -->
            <div class="row mb-3">
                <div class="col-md">
                    <h5>الدولة</h5>
                    <select class="form-select" asp-for="tanjezOrder.Country">
                        <option value="اليمن">اليمن</option>
                    </select>
                </div>
                <div class="col-md">
                    <h5>المحافظة</h5>
                    <select asp-for="tanjezOrder.City" class="form-select">
                        <option value="">المحافظة</option>
                        <option value="صنعاء">صنعاء</option>
                        <option value="تعز">تعز</option>
                        <option value="المهرة">المهرة</option>
                        <option value="الجوف">الجوف</option>
                        <option value="المحويت">المحويت</option>
                        <option value="صعدة">صعدة</option>
                        <option value="الضالع">الضالع</option>
                        <option value="شبوة">شبوة</option>
                        <option value="لحج">لحج</option>
                        <option value="عدن">عدن</option>
                        <option value="عمران">عمران</option>
                        <option value="حجة">حجة</option>
                        <option value="ريمة">ريمة</option>
                        <option value="ذمار">ذمار</option>
                        <option value="اب">اب</option>
                        <option value="مارب">مارب</option>
                        <option value="حضرموت">حضرموت</option>
                        <option value="البيضاء">البيضاء</option>
                        <option value="ابين">ابين</option>
                        <option value="الحديدة">الحديدة</option>
                    </select>
                </div>
                <div class="col-md">
                    <h5>المديرية</h5>
                    <input type="text" class="form-control" id="documentArea" asp-for="tanjezOrder.Zone" placeholder="المديرية" />
    
                </div>
                <div class="col-md">
                    <h5>العزلة</h5>
                    <input type="text" class="form-control" id="documentArea" asp-for="tanjezOrder.Directorate" placeholder="العزلة" />
    
                </div>
                <div class="col-md">
                    <h5>الحي/القرية</h5>
                    <input type="text" class="form-control" id="documentArea" name="tanjezOrder.Village" placeholder="القرية او الحي" />
    
                </div>
            </div>
    
            <!-- الصف الثاني: الإحداثيات (4 أعمدة، يمكن ترك عمود فارغ لو تريد) -->
            <div class="row mb-3">
    
    
                <div class="col-md-3">
                    <h5>احداثيات Y</h5>
                    <input name="tanjezOrder.CoordinatesY" type="number" class="form-control" placeholder="احداثيات Y">
                </div>
                <div class="col-md-3">
                    <h5>احداثيات X</h5>
                    <input name="tanjezOrder.CoordinatesX" type="number" class="form-control" placeholder="احداثيات X">
                </div>
                <!-- عمود فارغ لو أردت حقل إضافي -->
                <div class="col-md-3">
                    <label class="input-label"> اسم الموضع <span class="required-star">*</span></label>
                    <input type="text" class="form-control" id="requestTitle" name="tanjezOrder.PlaceName" placeholder="أدخل عنوان الطلب" required />
                </div>
                <div class="col-md-3">
                    <label class="input-label">نوع الطلب  </label>
                    <select class="form-select" id="placeTypeId" name="tanjezOrder.PlaceType">
    
                        <option value="حر">حر</option>
                        <option value="وقف">وقف</option>
                        <option value="3">+ انشاء جديد</option>
                    </select>
                </div>
            </div>
        </div>
    
    
    
    
        <!-- بيانات الوثيقة -->
        <div class="form-title mb-2">بيانات الوثيقة</div>
        <hr>
    
        <div class="row mb-3">
            <!-- 3️⃣ نوع الوثيقة -->
            <div class="col-md">
                <label class="input-label">نوع الوثيقة</label>
                <select asp-for="tanjezOrder.DocumentType"
                        asp-items="ViewBag.DocumentTypes ?? new List<SelectListItem>()"
                        class="form-select add-option-enabled"
                        data-controller="DocumentTypes">
                    <option value="">-- اختر نوع الوثيقة --</option>
                    <option value="add">+ إضافة</option>
                </select>
            </div>
            <!-- 2️⃣ الحيازة -->
                <div class="col-md">
                <div class="input-label-en">الحيازة</div>
                <select asp-for="tanjezOrder.Alhiaza"
                        asp-items="ViewBag.Ownerships ?? new List<SelectListItem>()"
                        class="form-select add-option-enabled"
                        data-controller="Ownerships">
                    <option value="">-- اختر الحيازة --</option>
                    <option value="add">+ إضافة</option>
                </select>
            </div>
    
                <div class="col-md">
                <div class="mb-2">
                    <label class="input-label fw-bold">المساحة كما في الوثيقة</label>
    
                    <!-- الحقل الأول: المساحة بالمتر المربع -->
                        <div class="col-md">
                        <small class="text-muted">متر مربع</small>
                        <input type="number" class="form-control" id="documentArea" name="tanjezOrder.Space" placeholder="0.00" step="0.01" />
    
                    </div>
    
                    <!-- الحقل الثاني: وحدة القياس -->
                        <div class="col-md">
                        <select class="form-select" id="unitSelect" asp-for="tanjezOrder.Unit">
                            <option value="">اختر وحدة القياس</option>
                            <option value="قصبة">قصبة</option>
                            <option value="لبنة">لبنة</option>
                        </select>
                    </div>
    
                    <!-- الحقل الثالث: عدد الوحدات (يظهر عند الاختيار) -->
                    <div class="mb-2 d-none" id="unitCountDiv">
                        <input type="number" class="form-control" id="unitCount" name="tanjezOrder.AcountPiese" placeholder="ادخل العدد" />
                        <small class="text-muted" id="unitLabel"></small>
                    </div>
                </div>
            </div>
    
            <script>
                document.getElementById("unitSelect").addEventListener("change", function () {
                    var selectedUnit = this.value;
                    var unitDiv = document.getElementById("unitCountDiv");
                    var unitLabel = document.getElementById("unitLabel");
    
                    if (selectedUnit) {
                        unitDiv.classList.remove("d-none");
                        unitLabel.textContent = "عدد " + selectedUnit;
                    } else {
                        unitDiv.classList.add("d-none");
                        unitLabel.textContent = "";
                    }
                });
            </script>
    
            <div class="col-md">
                <div class="form-check">
                    <input type="hidden" id="hiddenAreaDifferent" name="tanjezOrder.AreaDifferent" value="0" />
                    <input type="checkbox" class="form-check-input" id="AreaDifferentCheckbox" />
                    <label class="form-check-label" for="AreaDifferentCheckbox">المساحة مختلفة عن الواقع</label>
                </div>
            </div>
    
            <script>
                const checkbox = document.getElementById('AreaDifferentCheckbox');
                const hiddenInput = document.getElementById('hiddenAreaDifferent');
    
                checkbox.addEventListener('change', function() {
                    hiddenInput.value = this.checked ? '1' : '0';
                });
            </script>
    
    
    
    
            <div class="col-md">
                <div class="input-label-en">صورة الوثيقة</div>
                <div class="input-group">
                    <button type="button" class="btn btn-outline-secondary" id="attachBtn">إرفاق</button>
                    <input type="file" class="form-control" id="docImageInput" name="tanjezOrder.DocumentImage" style="display:none;" accept="image/*">
                </div>
            </div>
        </div>
    
        
    
        <div class="row mb-3">
            <div class="section-divider"></div>
            <div class="form-title mb-2">نوع الحيازة</div>
    
    
            <div class="col-md">
                <div class="input-label-en">نوع طريق الوصول</div>
                <select asp-for="tanjezOrder.AccessRoadType"
                        asp-items="ViewBag.AccessRoadTypes ?? new List<SelectListItem>()"
                        class="form-select add-option-enabled"
                        data-controller="AccessRoadTypes">
                    <option value="">-- اختر طريق الوصول --</option>
                    <option value="add">+ إضافة</option>
                </select>
            </div>
    
    
            <!-- الفترة والعرض -->
    
            <div class="col-md">
                <div class="input-label-en">(فترة تسليم العمل)</div>
                @* <select asp-for="tanjezOrder.PeriodType" asp-items="ViewBag.accessRoadType" class="form-select"> *@
    
                <select class="form-select" id="periodType" name="tanjezOrder.PeriodType">
                    <option value="طارئ ومستعجل">طارئ ومستعجل</option>
                    <option value="حسب الاتفاق مع المهندس">حسب الاتفاق مع المهندس</option>
                    <option value="طويلة">طويلة</option>
                </select>
            </div>
            <div class="col-md">
                <div class="input-label-en">أقصى مدة</div>
                <input type="text" class="form-control" id="maximumDuration" name="tanjezOrder.MaximumDuration" placeholder="اختر التاريخ" />
            </div>
        </div>
    
    
        <div class="row mb-3">
    
    
            <div class="col-md">
                <div class="input-label-en">انتقال المهندس الى القطة المراد مسحها</div>
                <select class="form-select" id="Transportation" name="tanjezOrder.Transportation">
                    <option value=""></option>
                    <option value="3"> سأقوم (بنقله وارجاعه) بسيارتي الخاصة</option>
                    <option value="2">يتكفل المهندس بتنقلاته</option>
    
                </select>
            </div>
    
    
    
            <!-- العرض -->
    
            <div class="col-md">
                <div class="input-label-en">المبيت</div>
                <select class="form-select" id="OverNight" name="tanjezOrder.OverNight">
                    <option value=""></option>
                    <option value="3"> سوف أوفر مبيت ومكان اقامة للمهندس خلال ايام العمل</option>
                    <option value="2">︎يتكفل المهندس بمبيته واقامته</option>
    
                </select>
            </div>
    
    
    
            <div class="col-md">
                <div class="input-label-en">النثريات (تغذية، قات، ..الخ)</div>
                <select class="form-select" id="Allowance" name="tanjezOrder.Allowance">
                    <option value=""></option>
                    <option value="3"> نثريات المهندس على حسابي الخاص</option>
                    <option value="2">يتكفل المهندس بجميع نثرياته</option>
    
                </select>
            </div>
    
    
        </div>
    
    
        <!-- التكلفة والفواتير -->
        <div class="section-divider"></div>
     
        
  <h1>الصفحة الرئيسية</h1>
  <div id="include"></div>

  <script>
    // هنا نضع محتوى صفحة devid.html كنص JavaScript
    const devidPage = `
      <div class="box">
        <h2>صفحة Devid</h2>
        <p>هذا المحتوى تم تضمينه بنجاح بدون fetch وبدون iframe!</p>
      </div>
    `;

    // إدراج المحتوى داخل div
    document.getElementById("include").innerHTML = devidPage;
  </script>
    
        <div class="text-center mt-4">
            <button type="submit" id="saveRequestBtn" class="btn btn-success px-5">
                <i class="fas fa-save me-2"></i>حفظ الطلب
            </button>
        </div>
        
    </form>

</div>



</body>
</html>
